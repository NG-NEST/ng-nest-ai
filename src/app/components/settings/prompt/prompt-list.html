<form [formGroup]="formGroup">
  <div class="sub-title">系统提示词</div>
  @if (allPromptList().length === 0) {
    <div class="empty">
      <x-empty></x-empty>
      <x-button (click)="addPrompt()" icon="fto-plus" flat plain>新增</x-button>
    </div>
  } @else {
    <div class="prompts">
      <x-input-group compact class="search">
        <x-input #inputSearch formControlName="value" icon="fto-search" iconLayout="left" style="width: 100%"></x-input>
        <x-button (click)="addPrompt()" icon="fto-plus" flat plain>新增</x-button>
      </x-input-group>
      @for (item of promptList(); track item.id) {
        <div class="prompt" (click)="updatePrompt(item)">
          <div class="info">
            <div class="name" x-keyword [text]="keywordText()" [caseSensitive]="false">{{ item.name }}</div>
            <div
              class="sub-content truncated app-markdown"
              [title]="item.content"
              [innerHTML]="item.content | markdown"
            ></div>
          </div>
          @if (item.isActive) {
            <x-icon class="check" type="fto-check"></x-icon>
          }
        </div>
      }
      @if (promptList().length === 0) {
        <div class="empty">
          <x-empty></x-empty>
        </div>
      }
    </div>
  }
</form>
